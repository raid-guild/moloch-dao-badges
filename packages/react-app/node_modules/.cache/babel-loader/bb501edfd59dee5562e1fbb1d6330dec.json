{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = queue;\n\nvar _baseIndexOf = require('lodash/_baseIndexOf');\n\nvar _baseIndexOf2 = _interopRequireDefault(_baseIndexOf);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _setImmediate = require('./setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _DoublyLinkedList = require('./DoublyLinkedList');\n\nvar _DoublyLinkedList2 = _interopRequireDefault(_DoublyLinkedList);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction queue(worker, concurrency, payload) {\n  if (concurrency == null) {\n    concurrency = 1;\n  } else if (concurrency === 0) {\n    throw new Error('Concurrency must not be zero');\n  }\n\n  var _worker = (0, _wrapAsync2.default)(worker);\n\n  var numRunning = 0;\n  var workersList = [];\n  var processingScheduled = false;\n\n  function _insert(data, insertAtFront, callback) {\n    if (callback != null && typeof callback !== 'function') {\n      throw new Error('task callback must be a function');\n    }\n\n    q.started = true;\n\n    if (!(0, _isArray2.default)(data)) {\n      data = [data];\n    }\n\n    if (data.length === 0 && q.idle()) {\n      // call drain immediately if there are no tasks\n      return (0, _setImmediate2.default)(function () {\n        q.drain();\n      });\n    }\n\n    for (var i = 0, l = data.length; i < l; i++) {\n      var item = {\n        data: data[i],\n        callback: callback || _noop2.default\n      };\n\n      if (insertAtFront) {\n        q._tasks.unshift(item);\n      } else {\n        q._tasks.push(item);\n      }\n    }\n\n    if (!processingScheduled) {\n      processingScheduled = true;\n      (0, _setImmediate2.default)(function () {\n        processingScheduled = false;\n        q.process();\n      });\n    }\n  }\n\n  function _next(tasks) {\n    return function (err) {\n      numRunning -= 1;\n\n      for (var i = 0, l = tasks.length; i < l; i++) {\n        var task = tasks[i];\n        var index = (0, _baseIndexOf2.default)(workersList, task, 0);\n\n        if (index === 0) {\n          workersList.shift();\n        } else if (index > 0) {\n          workersList.splice(index, 1);\n        }\n\n        task.callback.apply(task, arguments);\n\n        if (err != null) {\n          q.error(err, task.data);\n        }\n      }\n\n      if (numRunning <= q.concurrency - q.buffer) {\n        q.unsaturated();\n      }\n\n      if (q.idle()) {\n        q.drain();\n      }\n\n      q.process();\n    };\n  }\n\n  var isProcessing = false;\n  var q = {\n    _tasks: new _DoublyLinkedList2.default(),\n    concurrency: concurrency,\n    payload: payload,\n    saturated: _noop2.default,\n    unsaturated: _noop2.default,\n    buffer: concurrency / 4,\n    empty: _noop2.default,\n    drain: _noop2.default,\n    error: _noop2.default,\n    started: false,\n    paused: false,\n    push: function (data, callback) {\n      _insert(data, false, callback);\n    },\n    kill: function () {\n      q.drain = _noop2.default;\n\n      q._tasks.empty();\n    },\n    unshift: function (data, callback) {\n      _insert(data, true, callback);\n    },\n    remove: function (testFn) {\n      q._tasks.remove(testFn);\n    },\n    process: function () {\n      // Avoid trying to start too many processing operations. This can occur\n      // when callbacks resolve synchronously (#1267).\n      if (isProcessing) {\n        return;\n      }\n\n      isProcessing = true;\n\n      while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n        var tasks = [],\n            data = [];\n        var l = q._tasks.length;\n        if (q.payload) l = Math.min(l, q.payload);\n\n        for (var i = 0; i < l; i++) {\n          var node = q._tasks.shift();\n\n          tasks.push(node);\n          workersList.push(node);\n          data.push(node.data);\n        }\n\n        numRunning += 1;\n\n        if (q._tasks.length === 0) {\n          q.empty();\n        }\n\n        if (numRunning === q.concurrency) {\n          q.saturated();\n        }\n\n        var cb = (0, _onlyOnce2.default)(_next(tasks));\n\n        _worker(data, cb);\n      }\n\n      isProcessing = false;\n    },\n    length: function () {\n      return q._tasks.length;\n    },\n    running: function () {\n      return numRunning;\n    },\n    workersList: function () {\n      return workersList;\n    },\n    idle: function () {\n      return q._tasks.length + numRunning === 0;\n    },\n    pause: function () {\n      q.paused = true;\n    },\n    resume: function () {\n      if (q.paused === false) {\n        return;\n      }\n\n      q.paused = false;\n      (0, _setImmediate2.default)(q.process);\n    }\n  };\n  return q;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/node_modules/async/internal/queue.js"],"names":["Object","defineProperty","exports","value","default","queue","_baseIndexOf","require","_baseIndexOf2","_interopRequireDefault","_isArray","_isArray2","_noop","_noop2","_onlyOnce","_onlyOnce2","_setImmediate","_setImmediate2","_DoublyLinkedList","_DoublyLinkedList2","_wrapAsync","_wrapAsync2","obj","__esModule","worker","concurrency","payload","Error","_worker","numRunning","workersList","processingScheduled","_insert","data","insertAtFront","callback","q","started","length","idle","drain","i","l","item","_tasks","unshift","push","process","_next","tasks","err","task","index","shift","splice","apply","arguments","error","buffer","unsaturated","isProcessing","saturated","empty","paused","kill","remove","testFn","Math","min","node","cb","running","pause","resume","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = queue;\n\nvar _baseIndexOf = require('lodash/_baseIndexOf');\n\nvar _baseIndexOf2 = _interopRequireDefault(_baseIndexOf);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _onlyOnce = require('./onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _setImmediate = require('./setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _DoublyLinkedList = require('./DoublyLinkedList');\n\nvar _DoublyLinkedList2 = _interopRequireDefault(_DoublyLinkedList);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    } else if (concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = (0, _wrapAsync2.default)(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    var processingScheduled = false;\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!(0, _isArray2.default)(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return (0, _setImmediate2.default)(function () {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || _noop2.default\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n\n        if (!processingScheduled) {\n            processingScheduled = true;\n            (0, _setImmediate2.default)(function () {\n                processingScheduled = false;\n                q.process();\n            });\n        }\n    }\n\n    function _next(tasks) {\n        return function (err) {\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n\n                var index = (0, _baseIndexOf2.default)(workersList, task, 0);\n                if (index === 0) {\n                    workersList.shift();\n                } else if (index > 0) {\n                    workersList.splice(index, 1);\n                }\n\n                task.callback.apply(task, arguments);\n\n                if (err != null) {\n                    q.error(err, task.data);\n                }\n            }\n\n            if (numRunning <= q.concurrency - q.buffer) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        };\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new _DoublyLinkedList2.default(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: _noop2.default,\n        unsaturated: _noop2.default,\n        buffer: concurrency / 4,\n        empty: _noop2.default,\n        drain: _noop2.default,\n        error: _noop2.default,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = _noop2.default;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        remove: function (testFn) {\n            q._tasks.remove(testFn);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while (!q.paused && numRunning < q.concurrency && q._tasks.length) {\n                var tasks = [],\n                    data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    workersList.push(node);\n                    data.push(node.data);\n                }\n\n                numRunning += 1;\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = (0, _onlyOnce2.default)(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function () {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) {\n                return;\n            }\n            q.paused = false;\n            (0, _setImmediate2.default)(q.process);\n        }\n    };\n    return q;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}